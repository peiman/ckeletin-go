# .lefthook.yml
pre-commit:
  parallel: true
  commands:
    format:
      glob: "*.go"
      run: task format:staged -- {staged_files}
      stage_fixed: true
    lint:
      run: task lint
    validate-constants:
      run: task validate:constants
    verify-deps:
      run: task check:deps:verify
    secret-scan:
      run: task check:secrets:staged
    vuln-scan:
      run: task check:vuln:fast
    test:
      run: task test

pre-push:
  parallel: false
  commands:
    coverage:
      run: task test:coverage
